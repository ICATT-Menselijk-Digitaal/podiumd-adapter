openapi: 3.0.1
info:
  title: E-Suite implementatie van een deel van de Contactmomenten API
  description: Deze implementatie is niet 'compliant' maar streeft er naar 'compatible'
    te zijn met de Contactmomenten API specificatie.
  version: 1.0.0
servers:
- url: /api/v1
security:
- JWT-Claims: []
paths:
  /contactmomenten:
    get:
      tags:
      - contactmomenten
      summary: Lopende contacten van een Klant (persoon in e-Suite) opvragen als Contactmoment.
      operationId: contactmoment_list
      parameters:
      - name: klant
        in: query
        description: URL-referentie naar de KLANT
        required: true
        schema:
          type: string
          format: uri
      - name: page
        in: query
        description: Een pagina binnen de gepagineerde set resultaten.
        schema:
          minimum: 1
          type: string
          format: int32
      responses:
        "500":
          description: Internal server error
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "401":
          description: Unauthorized
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "403":
          description: Forbidden
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "200":
          description: OK
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContactmomentResults'
        "400":
          description: Bad request
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
      security:
      - JWT-Claims:
        - contactmomenten.lezen
    post:
      tags:
      - contactmomenten
      summary: Contactmoment aanmaken.
      operationId: contactmoment_create
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Contactmoment'
        required: true
      responses:
        "500":
          description: Internal server error
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "401":
          description: Unauthorized
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "403":
          description: Forbidden
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "201":
          description: Created
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contactmoment'
        "400":
          description: Bad request
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
      security:
      - JWT-Claims:
        - contactmomenten.aanmaken
  /contactmomenten/{uuid}:
    get:
      tags:
      - contactmomenten
      summary: Contactmoment opvragen.
      operationId: contactmoment_read
      parameters:
      - name: uuid
        in: path
        description: Unieke resource identifier (UUID4)
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "500":
          description: Internal server error
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "401":
          description: Unauthorized
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "403":
          description: Forbidden
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "200":
          description: OK
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contactmoment'
        "400":
          description: Bad request
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
        "404":
          description: Not found
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
      security:
      - JWT-Claims:
        - contactmomenten.lezen
  /klantcontactmomenten:
    get:
      tags:
      - klantcontactmomenten
      summary: Lopende contact(moment)en van een Klant (persoon in e-Suite) opvragen.
      operationId: klantcontactmoment_list
      parameters:
      - name: klant
        in: query
        description: URL-referentie naar de KLANT
        required: true
        schema:
          type: string
          format: uri
      - name: page
        in: query
        description: Een pagina binnen de gepagineerde set resultaten.
        schema:
          minimum: 1
          type: string
          format: int32
      responses:
        "500":
          description: Internal server error
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "401":
          description: Unauthorized
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "403":
          description: Forbidden
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "200":
          description: OK
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/KlantcontactmomentResults'
        "400":
          description: Bad request
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
      security:
      - JWT-Claims:
        - contactmomenten.lezen
    post:
      tags:
      - klantcontactmomenten
      summary: Koppelen van een Contact(moment) aan een Klant (persoon in e-Suite).
      operationId: klantcontactmoment_create
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Klantcontactmoment'
        required: true
      responses:
        "500":
          description: Internal server error
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "401":
          description: Unauthorized
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "403":
          description: Forbidden
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "201":
          description: Created
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Klantcontactmoment'
        "400":
          description: Bad request
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
      security:
      - JWT-Claims:
        - contactmomenten.aanmaken
  /objectcontactmomenten:
    get:
      tags:
      - objectcontactmomenten
      summary: Koppelingen tussen Contact(moment)en en Zaken opvragen.
      operationId: objectcontactmoment_list
      parameters:
      - name: object
        in: query
        description: URL-referentie naar een Zaak in e-Suite
        schema:
          type: string
          format: uri
      - name: contactmoment
        in: query
        description: URL-referentie naar een Contact(moment) in e-Suite
        schema:
          type: string
          format: uri
      responses:
        "500":
          description: Internal server error
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "401":
          description: Unauthorized
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "403":
          description: Forbidden
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "200":
          description: OK
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ObjectcontactmomentResults'
        "400":
          description: Bad request
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
      security:
      - JWT-Claims:
        - contactmomenten.lezen
    post:
      tags:
      - objectcontactmomenten
      summary: Koppelen van een Contact(moment) aan een zaak.
      operationId: objectcontactmoment_create
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Objectcontactmoment'
        required: true
      responses:
        "500":
          description: Internal server error
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "401":
          description: Unauthorized
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "403":
          description: Forbidden
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        "201":
          description: Created
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Objectcontactmoment'
        "400":
          description: Bad request
          headers:
            API-version:
              description: Geeft een specifieke API-versie aan in de context van een
                specifieke aanroep. Voorbeeld 1.2.1.
              style: simple
              schema:
                type: string
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
      security:
      - JWT-Claims:
        - contactmomenten.aanmaken
components:
  schemas:
    Fout:
      required:
      - code
      - instance
      - status
      - title
      type: object
      properties:
        type:
          title: Type
          type: string
          description: "URI referentie naar het type fout, bedoeld voor developers"
        code:
          title: Code
          type: string
          description: Systeemcode die het type fout aangeeft
          enum:
          - INTERNAL
          - VALIDATION
          - NOT_FOUND
          - NOT_AUTHORISED
        title:
          title: Title
          minLength: 1
          type: string
          description: Generieke titel voor het type fout
        status:
          title: Status
          type: integer
          description: De HTTP status code
          format: int32
        detail:
          title: Detail
          minLength: 1
          type: string
          description: "Extra informatie bij de fout, indien beschikbaar"
        instance:
          title: Instance
          minLength: 1
          type: string
          description: "URI met referentie naar dit specifiek voorkomen van de fout.\
            \ Deze kan gebruikt worden in combinatie met server logs, bijvoorbeeld."
    Contactmoment:
      required:
      - bronorganisatie
      - tekst
      - url
      type: object
      properties:
        url:
          title: Url
          type: string
          description: URL-referentie naar dit object.
          format: uri
          readOnly: true
        bronorganisatie:
          title: Bronorganisatie
          maxLength: 9
          type: string
          description: Het RSIN van de gemeeente.
          readOnly: true
        registratiedatum:
          title: Registratiedatum
          type: string
          description: Startdatum van Contact in e-Suite
          format: date-time
        kanaal:
          title: Kanaal
          maxLength: 50
          type: string
          description: Kanaal van Contact in e-Suite
        tekst:
          title: Tekst
          type: string
          description: Vraag uit Contact in e-Suite
        medewerkerIdentificatie:
          $ref: '#/components/schemas/Medewerker'
        identificatie:
          title: Identificatie
          maxLength: 50
          type: string
          description: Functionele identificatie van Contact in e-Suite
          readOnly: true
        type:
          title: Type
          maxLength: 50
          type: string
          description: Naam van het type van Contact in e-Suite
        onderwerp:
          title: Onderwerp
          maxLength: 255
          type: string
          description: "Bij een POST: Naam van afdeling, of anders groep, waaraan\
            \ Contact in e-Suite wordt toegekend. Indien waarde wordt voorafgegaan\
            \ door 'afd:' dan wordt de waarde na deze prefix beschouwd als naam van\
            \ een afdeling. Indien waarde wordt voorafgegaan door 'grp:' dan wordt\
            \ de waarde na deze prefix beschouwd als naam van een groep. Bij een GET:\
            \ Naam van een afdeling voorafgegaand door 'afd:' of naam van een groep\
            \ voorafgegaan door 'grp:' waaraan Contact in e-Suite is toegekend."
        status:
          title: Status
          type: string
          description: Contact status type in e-Suite
          enum:
          - nieuw
          - in_behandeling
          - afgehandeld
        antwoord:
          title: Antwoord
          type: string
          description: Antwoord uit Contact in e-Suite. Een Contactmoment met status
            'afgehandeld' moet een antwoord bevatten.
    Medewerker:
      title: Medewerker identificatie
      maxLength: 1000
      type: object
      properties:
        identificatie:
          title: Identificatie
          maxLength: 24
          type: string
          description: Gebruikersnaam van medewerker in e-Suite.
        achternaam:
          title: Achternaam
          maxLength: 200
          type: string
          description: Volledige naam van medewerker in e-Suite.
      description: Behandelaar van Contact in e-Suite
    ValidatieFout:
      required:
      - code
      - instance
      - status
      - title
      type: object
      properties:
        type:
          title: Type
          type: string
          description: "URI referentie naar het type fout, bedoeld voor developers"
        code:
          title: Code
          type: string
          description: Systeemcode die het type fout aangeeft
          enum:
          - INTERNAL
          - VALIDATION
          - NOT_FOUND
          - NOT_AUTHORISED
        title:
          title: Title
          minLength: 1
          type: string
          description: Generieke titel voor het type fout
        status:
          title: Status
          type: integer
          description: De HTTP status code
          format: int32
        detail:
          title: Detail
          minLength: 1
          type: string
          description: "Extra informatie bij de fout, indien beschikbaar"
        instance:
          title: Instance
          minLength: 1
          type: string
          description: "URI met referentie naar dit specifiek voorkomen van de fout.\
            \ Deze kan gebruikt worden in combinatie met server logs, bijvoorbeeld."
    ContactmomentResults:
      required:
      - count
      - results
      type: object
      properties:
        count:
          type: integer
          format: int32
        next:
          type: string
          format: uri
          nullable: true
        previous:
          type: string
          format: uri
          nullable: true
        results:
          type: array
          items:
            $ref: '#/components/schemas/Contactmoment'
    Klantcontactmoment:
      required:
      - contactmoment
      - klant
      - rol
      - url
      type: object
      properties:
        url:
          title: Url
          type: string
          description: URL-referentie naar dit object.
          format: uri
          readOnly: true
        contactmoment:
          title: Contactmoment
          type: string
          description: URL-referentie naar het Contactmoment
          format: uri
        klant:
          title: Klant
          type: string
          description: URL-referentie naar de Klant.
          format: uri
        rol:
          title: Rol
          type: string
          description: Rol van de klant in het contactmoment. Binnen e-Suite wordt
            deze informatie niet opgeslagen. Bij lezen wordt altijd 'gesprekspartner'
            geretournerd. Bij schrijven wordt de meegegeven waarde genegeerd
          readOnly: true
          enum:
          - belanghebbende
          - gesprekspartner
          default: gesprekspartner
    KlantcontactmomentResults:
      required:
      - count
      - results
      type: object
      properties:
        count:
          type: integer
          format: int32
        next:
          type: string
          format: uri
          nullable: true
        previous:
          type: string
          format: uri
          nullable: true
        results:
          type: array
          items:
            $ref: '#/components/schemas/Klantcontactmoment'
    Objectcontactmoment:
      required:
      - contactmoment
      - object
      - objectType
      - url
      type: object
      properties:
        url:
          title: Url
          type: string
          description: URL-referentie naar dit object.
          format: uri
          readOnly: true
        contactmoment:
          title: Contactmoment
          type: string
          description: URL-referentie naar Contact(moment) in e-Suite
          format: uri
        object:
          title: Object
          type: string
          description: URL-referentie naar Zaak in e-Suite.
          format: uri
        objectType:
          title: Objecttype
          type: string
          description: Het type van het gerelateerde OBJECT
          enum:
          - zaak
          default: zaak
    ObjectcontactmomentResults:
      required:
      - count
      - results
      type: object
      properties:
        count:
          type: integer
          format: int32
        next:
          type: string
          format: uri
          nullable: true
        previous:
          type: string
          format: uri
          nullable: true
        results:
          type: array
          items:
            $ref: '#/components/schemas/Objectcontactmoment'
